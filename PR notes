FE8. Foutafhandeling moet zorgen voor hervatting van bestandoverdracht bij verloren of beschadigde pakketten. (Uitzoeken of TCP dit zelfstandig doet of ingebouwd moet worden.)
Deze eis komt voort uit de functionaliteit om bestanden groter dan 4gb te uploaden. Dit gebeurt vaak in chunks.

In TCP zit standaard een vangnet ingebouwd bij weggevallen pakketjes of onderbrekingen in de verbinding.
Dit gebeurd door de zogeheten Retransimission Timeout(RTO):
- deze wacht voor een ack bij windows 300-500ms en bij mac/linux 1000ms
- krijgt de partij geen ack terug binnen de bovengenoemde tijd dan stuurt deze het verzoek nogmaals met een verdubbeling van de tijd
- OS afhankelijk gebeurd dit standaard 5 tot 15 keer per onderbreking, komt neer op minimaal 30 seconden de tijd om verbinding weer tot stand te brengen. Max 9 minuten.
- (er is ook een RTT in RTO ingebouwd die dynamisch berekend of een time out langer of korter mag zijn op basis van eerdere round trip communicatie)
- bij het verstrijken van de tijd van de laatste attempt wordt de verbinding afgebroken dmv een tcp time out (inzichtelijk via de socket time-out melding).

Wanneer een verbinding is verbroken en opnieuw hetzelfde bestand wordt geupload zal deze vanaf 0 beginnen. Afhankelijk van hoe het systeem werkt zal de bestaande partial worden vervangen door een nieuwe.

Nadat er een timeout heeft plaatsgevonden is het mogelijk opnieuw een verbinding/communicatie lijn te openen van client naar server, maar communicatie kan niet worden hervat op een al afgesloten verbinding.
De server kan een client's ip en port onthouden en opnieuw een verzoek tot ack doen. Dan moet de client wel openstan voor binnenkomende verbindingen.
(het meest voor de hand liggende is echter dat de server een save state maakt en wacht op interactie van de client)

Optie:
- Save state door een csv of database gegevens weg te schrijven, welke file(id en naam), welke client(ip en poort/of account door authenticatie), welke size(chunk nummer of 120/256mb) is er geupload.
- wanneer een upload verzoek binnenkomt checken we of er een record bestaat, zo ja hervatten we de upload(indien partial nog bestaat)
- mogelijk met hashing kan het nog makkelijker - verder uit te zoeken waardig...
